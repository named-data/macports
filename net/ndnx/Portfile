# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem              1.0
PortGroup               github 1.0

github.setup            named-data ndnx cdd3afd7a192b3d1fe8a223505f0c551869bb655
checksums               rmd160  2029a4e57625c372fac9ba50574c5d1fd72c709c \
                        sha256  351605a6b4e7a25ddce052f20e16fa9607ec8208d8af570cf8c7eab65f6bee04

name                    ndnx
homepage                http://www.named-data.net
license                 GPL-2+ LGPL-2.1+
version                 0.2-git-cdd3a
revision                1

categories              net
platforms               darwin
maintainers             ucla.edu:alexander.afanasyev

description             NDNx library and ndnd forwarding daemon

long_description        NDNx library and ndnd forwarding daemon

depends_lib-append      port:openssl \
                        port:expat \
                        port:libpcap \
                        port:libxml2 \
                        port:asciidoc

default_variants        +java +apps

variant java description {Enable Java API build} {
    configure.env-delete   BUILD_JAVA=false
}

variant apps requires java description {Enable build of reference applications} {
    configure.env-delete   BUILD_APPS=false
}

configure.env-append    OPENSSL_CFLAGS=-I${prefix}/include \
                        OPENSSL_LIBS=-L${prefix}/lib \
                        INSTALL_BASE=${prefix} \
                        INSTALL_MAN=${prefix}/share/man \
                        BUILD_JAVA=false \
                        BUILD_APPS=false \

configure.cflags        -DNDNX_DIR=\\\"${ndnxdir}\\\" \
                        -O2 -std=gnu99

build.env-append        OPENSSL_CFLAGS=-I${prefix}/include \
                        OPENSSL_LIBS=-L${prefix}/lib \
                        INSTALL_BASE=${prefix} \


notes "

You can add the following line into \"${ndnxdir}/ndndrc\" in order to automatically
start ndnx repo for the /ndn/keys prefix:

    NDNR_GLOBAL_PREFIX=/ndn/keys

For more information and documentation, refer to man pages and http://www.named-data.net website.

Consider installing NDNx Control Center \(port install ndnx-control-center\) if you want the daemon
to automatically start and configure default route.
"
