# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem              1.0
PortGroup               python 1.0
PortGroup               github 1.0
                        
# github.setup should be performed before name directive, otherwise port name becomes incorrect
github.setup            remap PyCCN fc486a1f253e937fb7de40c2a8fc900ca23c166d
checksums               rmd160  18ac8a27c1f683ee28849f84a3212dc40c1e97de \
                        sha256  7b1a8f61e0379290c9c3043bfe0072a3fcb8aa9f70f9e53fafe612ba571ddb2d

name                    py-pyccn
homepage                https://github.com/remap/PyCCN
license                 BSD
version                 0.2
revision                0

python.versions         27
python.default_version  27

categories	            net ccnx python
platforms	            darwin
maintainers             ucla.edu:alexander.afanasyev

description	            PyCCN - CCN bindings for Python

long_description        A "thin" implementation, which supports Python \
                        objects corresponding to the major CCNx entities - Interest, ContentObject, and \
                        so on, as well as some support objects.  The C code is mostly just responsible \
                        for marshaling data back and forth between the formats, though there are some \
                        useful functions for key generation/access included.

depends_lib-append	    port:ccnx

use_autoreconf          yes
use_configure           yes

pre-configure {
    file mkdir "${worksrcpath}/build-aux"

    configure.env-append    PYTHON_SITE_PKG=${python.pkgd}
    configure.python        ${python.bin}
}

configure.args-append   --with-ccn=${prefix}
configure.env-append    OPENSSL_INCLUDES=-I${prefix}/include \
                        OPENSSL_LDFLAGS=-L${prefix}/lib \
                        OPENSSL_LIBS="-lssl -lcrypto"

build.cmd               make
build.target    

destroot.cmd            make
destroot.target         install
destroot.destdir        "DESTDIR=${destroot}"

